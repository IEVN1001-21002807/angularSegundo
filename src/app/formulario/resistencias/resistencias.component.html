<div class="container mx-auto p-6">
  <h2 class="text-2xl font-bold mb-6 text-center">Registro de Resistencias</h2>
  
  <div class="flex flex-col lg:flex-row lg:space-x-8">
    <form (ngSubmit)="calcularResistencia()" class="space-y-4 lg:w-1/2">
      <div>
        <label for="banda1" class="block font-semibold">Primera Banda (Color1):</label>
        <select [(ngModel)]="banda1" name="banda1" required class="mt-1 block w-full p-2 border rounded-md bg-gray-100">
          <option value="0">Negro</option>
          <option value="1">Café</option>
          <option value="2">Rojo</option>
          <option value="3">Naranja</option>
          <option value="4">Amarillo</option>
          <option value="5">Verde</option>
          <option value="6">Azul</option>
          <option value="7">Violeta</option>
          <option value="8">Gris</option>
          <option value="9">Blanco</option>
        </select>
      </div>

      <div>
        <label for="banda2" class="block font-semibold">Segunda Banda (Color2):</label>
        <select [(ngModel)]="banda2" name="banda2" required class="mt-1 block w-full p-2 border rounded-md bg-gray-100">
          <option value="0">Negro</option>
          <option value="1">Café</option>
          <option value="2">Rojo</option>
          <option value="3">Naranja</option>
          <option value="4">Amarillo</option>
          <option value="5">Verde</option>
          <option value="6">Azul</option>
          <option value="7">Violeta</option>
          <option value="8">Gris</option>
          <option value="9">Blanco</option>
        </select>
      </div>

      <div>
        <label for="banda3" class="block font-semibold">Tercera Banda (Color3):</label>
        <select [(ngModel)]="banda3" name="banda3" required class="mt-1 block w-full p-2 border rounded-md bg-gray-100">
          <option value="0">Negro</option>
          <option value="1">Café</option>
          <option value="2">Rojo</option>
          <option value="3">Naranja</option>
          <option value="4">Amarillo</option>
          <option value="5">Verde</option>
          <option value="6">Azul</option>
          <option value="7">Violeta</option>
          <option value="8">Gris</option>
          <option value="9">Blanco</option>
        </select>
      </div>

      <div class="mt-4">
        <label for="tolerancia" class="block font-semibold">Tolerancia:</label>
        <div class="flex items-center space-x-4 mt-2">
          <label class="inline-flex items-center">
            <input type="radio" (change)="setTolerancia('Dorado')" name="tolerancia" required class="form-radio text-yellow-500">
            <span class="ml-2">Dorado (±5%)</span>
          </label>
          <label class="inline-flex items-center">
            <input type="radio" (change)="setTolerancia('Plata')" name="tolerancia" required class="form-radio text-gray-400">
            <span class="ml-2">Plata (±10%)</span>
          </label>
        </div>
      </div>

      <button type="submit" class="block w-full bg-purple-600 text-white font-bold py-2 rounded-md mt-6 hover:bg-purple-700">
        Registrar
      </button>
    </form>

    <div class="lg:w-1/2 mt-8 lg:mt-0">
      <button *ngIf="mostrarTabla" (click)="mostrarTabla = !mostrarTabla" class="block w-full bg-red-500 text-white font-semibold py-2 rounded-md mb-4 hover:bg-red-600">
        Ocultar Tabla
      </button>

      <table *ngIf="mostrarTabla" class="w-full border-collapse border border-gray-300">
        <thead>
          <tr>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Color 1</th>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Color 2</th>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Color 3</th>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Tolerancia</th>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Valor</th>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Valor Máximo</th>
            <th class="border border-gray-300 p-2 bg-gray-100 font-semibold">Valor Mínimo</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let resistencia of resistenciasRegistradas" class="text-center">
            <td [style.background-color]="getColorCode(resistencia.banda1)" [style.color]="resistencia.banda1 === 'Blanco' ? 'black' : 'white'" class="border border-gray-300 p-2">
              {{ resistencia.banda1 }}
            </td>
            <td [style.background-color]="getColorCode(resistencia.banda2)" [style.color]="resistencia.banda2 === 'Blanco' ? 'black' : 'white'" class="border border-gray-300 p-2">
              {{ resistencia.banda2 }}
            </td>
            <td [style.background-color]="getColorCode(resistencia.banda3)" [style.color]="resistencia.banda3 === 'Blanco' ? 'black' : 'white'" class="border border-gray-300 p-2">
              {{ resistencia.banda3 }}
            </td>
            <td [ngStyle]="{'background-color': resistencia.tolerancia === 'Dorado' ? '#FFD700' : '#BEBEBE'}" class="border border-gray-300 p-2">
              {{ resistencia.tolerancia }}
            </td>
            <td class="border border-gray-300 p-2">{{ resistencia.valor }}</td>
            <td class="border border-gray-300 p-2">{{ resistencia.valorMax }}</td>
            <td class="border border-gray-300 p-2">{{ resistencia.valorMin }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
